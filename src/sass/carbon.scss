// ============================================================================
// Carbon Design System Icon Toggle Support
// ============================================================================
// Provides CSS-based icon swapping for toggle buttons when using the
// django-zooy carbon_icon template tag with toggle_to parameter.
//
// Example usage in Django template:
//   {% carbon_icon "favorite" 16 slot="icon" toggle_to="favorite--filled" %}
//
// This renders two icons wrapped in .icon-toggle-wrapper, and this CSS
// controls which icon is visible based on the is-selected attribute.
// ============================================================================

cds-icon-button {
  // Icon toggle wrapper - makes container invisible to layout
  .icon-toggle-wrapper {
    display: contents;
  }

  // Icon swap visibility controls (only for toggle_to mode)
  .off-icon {
    display: inline;
  }

  .on-icon {
    display: none;
  }

  // When button is selected, swap icon visibility
  // Note: The attribute is 'isselected' (no hyphen) in the actual DOM
  &[isselected] {
    // Icon-swap mode: toggle visibility
    .off-icon {
      display: none;
    }

    .on-icon {
      display: inline;
    }

    // Optional: Color swap on selection (opt-in via data-toggle-color)
    &[data-toggle-color] svg {
      fill: var(--cds-icon-primary, #0f62fe);
    }
  }
}


// ============================================================================
// Carbon Data Table Support
// ============================================================================
// Provides styling for Carbon data tables, including numeric column alignment.
//
// Example usage in Django template:
//   <cds-table-header-cell class="number">Count</cds-table-header-cell>
//   <cds-table-cell class="number">1,234</cds-table-cell>
//
// Per Carbon Design System guidelines, variable numerical values (prices,
// percentages, counts, etc.) and their column headers should be right-aligned.
// ============================================================================

cds-table {
  // Numeric table cells - right-aligned per Carbon Design guidelines
  cds-table-cell {
    &.number {
      text-align: right;
    }
  }

  // Numeric column headers - right-aligned to match cell alignment
  cds-table-header-cell {
    &.number {
      text-align: right;
    }
  }
}

// Batch filter popover - active state styling
// Matches Carbon's overflow menu behavior when open
cds-popover.cds--overflow-menu--open {
  box-shadow: 0 2px 6px var(--cds-shadow);
  background-color: var(--cds-background);
  transition: none;
}

.zoo-datatable-skeleton-wrapper {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 1fr;

  cds-table,
  cds-table-skeleton {
    grid-column: 1;
    grid-row: 1;
  }

  cds-table {
    z-index: 2; /* Table always on top */
  }

  cds-table-skeleton {
    z-index: 1;
    opacity: 1;
    visibility: visible;
    transition: opacity 1s ease, visibility 1s ease;

    &.hidden {
      opacity: 0;
      visibility: hidden;
    }
  }
}

.hidden {
  opacity: 0;
  visibility: hidden;
}
